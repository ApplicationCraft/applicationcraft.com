$(function(){function waGetAppLoginsFromCookie(){var cookieValue=null,name="domainLogins";if(document.cookie&&""!=document.cookie)for(var cookies=document.cookie.split(";"),i=0;i<cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==name+"="){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break}}var ret=[];try{ret=eval(cookieValue)}catch(e){}return ret=jQuery.isArray(ret)?ret:[]}function getLoginLinkAttrs(){var e=waGetAppLoginsFromCookie(),t=e.length>0?{href:"http://"+e[0],target:"_blank"}:{href:"#",target:""};return t}function waUpdateLoginList(e){domainLogins=$('<div class="waDomainLogins"></div>');for(var t=waGetAppLoginsFromCookie(),i=function(e){return function(){window.open("http://"+e)}},o=0,n=t.length;n>o;o++){var a=$("<span class='wa-login-item'></span>").text(t[o]).bind("click",i(t[o]));domainLogins.append(a)}e.append(domainLogins)}function waInitControls(e){var t=$("<input type='text' class='wa-login-input'>"),i=$("<button class='btn'>Go</button>");t.focus(function(){$(this).addClass("wa-logins-input-focus")}),t.blur(function(){$(this).removeClass("wa-logins-input-focus")}),i.click(function(){""!=t.val()?(window.open("http://"+t.val()+".applicationcraft.com"),t.val(""),$(this).parent(".waLoginList").hide()):t.focus()}),t.keypress(function(e){13==e.keyCode?i.click():null});var o=$("<span class='wa-login-textspan'></span>").text(".applicationcraft.com");o.click(function(){i.click()});var n=$("<div class='wa-login-bottom'></div>").append(t,o,i);e.append(n)}var links,waSetMenuPos=function(e){var t=e.width()-($(document).width()-e.parent().offset().left);t>0?e.css("left",-(t-0+60)+"px"):e.css("left","");var i=e.height()-($(document).height()-e.parent().offset().top);i>0?e.css("top",-(i-0+42)+"px"):e.css("top","")},waInitLoginList=function(){$(".waLoginList");links=$(".waLoginListLink"),links.attr(getLoginLinkAttrs()),$(".waLoginListDiv").each(function(e,t){$(t).empty(),waUpdateLoginList($(t)),waInitControls($(t))})};waInitLoginList()});