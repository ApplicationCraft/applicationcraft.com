!function(){$(function(){var e,t,n,i,o,a,r;for($.cookie.json=!0,n={},r=document.location.search.replace("?","").split("&"),o=0,a=r.length;a>o;o++)e=r[o],t=e.split("="),n[t[0]]=t[1];return"ac_affiliate"===n.utm_medium&&null!=n.utm_source&&(i={email:n.utm_source,datetime:new Date},$.cookie("ac_referral",i,{expires:365,path:"/",domain:".applicationcraft.com"})),null!=n.utm_campaign&&($.cookie("campaign",n.utm_campaign,{expires:365,path:"/",domain:".applicationcraft.com"}),"dzone-email-20121912"===n.utm_campaign&&$.cookie("ac_trial_length",30,{expires:365,path:"/",domain:".applicationcraft.com"})),$.cookie("ac_trial_length")?$(".trial-period").text($.cookie("ac_trial_length")):void 0}),$(function(){var e;return e=/^[a-zA-Z0-9._\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,4}$/,$("#referral-email").on("blur",function(){return $(this).css({border:"1px solid #CCC"})}),$("#referral-form").on("submit",function(){var t,n,i,o;return n=$(this),t=$(this).find("#referral-email"),e.test(t.val())?(o="http://www.applicationcraft.com/?utm_medium=affiliate&utm_source="+encodeURIComponent(t.val()),i={login:"applicationcraft",apiKey:"R_25cb95f39d27477516ad78346d85a2bf",longUrl:o},$.getJSON("https://api-ssl.bitly.com/v3/shorten",i,function(e){var t,i;return e.data.url&&(o=e.data.url),i="Take a look at ApplicationCraft. It's visual development in the cloud - for everyone.",t="Build amazing mobile and desktop applications with our web based, drag-and-drop IDE.",n.fadeOut(function(){var e,n,a,r,s;for($(this).parent().append('<div id="sharethis-referral">'),$(this).parent().parent().find("h3").text("Now simply click an icon to share..."),$(this).parent().after("<div id='referral-url'>Or copy and paste this URL anywhere you wish: <code>"+o+"</code></div>"),r=["email","facebook","twitter","linkedin"],s=[],n=0,a=r.length;a>n;n++)e=r[n],s.push(stWidget.addEntry({service:e,element:document.getElementById("sharethis-referral"),url:o,title:i,type:"large",summary:t,image:"http://localhost:4567/img/logo.png"}));return s})}),!1):(t.focus(),t.css("border","5px solid #F36050"),!1)})})}.call(this);