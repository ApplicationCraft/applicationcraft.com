(function(){var e;e=function(){function e(){var e=this;$.ajax({url:"/js/doc_search/doc_search.json",dataType:"json",async:!1,success:function(t){return e.pages=t.pages}}),this.init_events()}return e.prototype.minimum_length=3,e.prototype.stop_words=["and","be","by","do","for","he","how","if","is","it","my","not","of","or","the","to","up","what","when"],e.prototype.stems=[{word:"e-mail",stem:"email"},{word:"javascript",stem:"script"},{word:"javascript",stem:"js"}],e.prototype.results=$("#search-content"),e.prototype.init_events=function(){var e=this;return $(".docs aside form").on("submit",function(){return e.perform_search($(".docs aside form input").val()),!1}),$("#search-content").on("click","a",function(){return expandTreeWithPath($(this).attr("href"))})},e.prototype.perform_search=function(e){var t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y,b,w,E,S,x=this;e=$.trim(e.toLowerCase());if(e.length>=this.minimum_length){c=this.stemming(e),n=0,s=[],E=this.pages;for(p=0,g=E.length;p<g;p++){u=E[p],l=1e7;for(d=0,y=c.length;d<y;d++){e=c[d],a=new RegExp(e,"i"),u.t.search(a)!==-1&&(l-=2e3-n),S=u.b;for(v=0,b=S.length;v<b;v++)r=S[v],r.search(a)!==-1&&(l-=1e3-n);f=new RegExp("("+e+")","gi"),h=u.t.replace(f,"<em>$1</em>"),i=u.b.join("**").replace(f,"<em>$1</em>")}l<1e7&&(s[n++]=l+"^"+i+"^"+h+"^"+u.u)}if(n<1)this.results.html("<li><span>No results found. Please refine your search.</span></li>");else{this.results.html(""),s.sort();for(m=0,w=s.length;m<w;m++)o=s[m],o=o.split("^"),t=o[1].replace(/\*\*/g," > "),this.results.append("<li><a href='"+o[3]+"'>"+o[2]+"<small>"+t+"</small></a></li>")}}else this.results.html("<li><span>Should be "+this.minimum_length+" characters or more.</span></li>");return $(":not(#search-content)").one("click",function(){return x.results.fadeOut()}),this.results.fadeIn()},e.prototype.stemming=function(e){var t,n,r,i,s,o,u,a;r=e.split(" ");for(t=i=0,u=r.length;0<=u?i<u:i>u;t=0<=u?++i:--i){a=this.stems;for(s=0,o=a.length;s<o;s++)n=a[s],r[t]===n.word&&(e=e+" "+n.stem)}return e.split(" ")},e}(),$(function(){return new e})}).call(this);