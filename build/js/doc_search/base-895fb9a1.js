(function(){var e;e=function(){function e(){$.ajax({url:"/js/doc_search/doc_search.json",dataType:"json",async:!1,success:function(e){return function(t){return e.pages=t.pages}}(this)}),this.init_events()}return e.prototype.minimum_length=3,e.prototype.stop_words=["and","be","by","do","for","he","how","if","is","it","my","not","of","or","the","to","up","what","when"],e.prototype.stems=[{word:"e-mail",stem:"email"},{word:"javascript",stem:"script"},{word:"javascript",stem:"js"}],e.prototype.results=$("#search-content"),e.prototype.init_events=function(){return $(".docs aside form").on("submit",function(e){return function(){return e.perform_search($(".docs aside form input").val()),!1}}(this)),$("#search-content").on("click","a",function(){return expandTreeWithPath($(this).attr("href"))})},e.prototype.perform_search=function(e){var t,i,o,n,a,r,s,l,c,d,u,h,p,f,g,m,b,v,y,w,x,T;if(e=$.trim(e.toLowerCase()),e.length>=this.minimum_length){for(x=this.stemming(e),i=0,a=[],v=this.pages,s=0,d=v.length;d>s;s++){for(g=v[s],w=1e7,l=0,u=x.length;u>l;l++){for(e=x[l],m=new RegExp(e,"i"),-1!==g.t.search(m)&&(w-=2e3-i),y=g.b,c=0,h=y.length;h>c;c++)o=y[c],-1!==o.search(m)&&(w-=1e3-i);b=new RegExp("("+e+")","gi"),T=g.t.replace(b,"<em>$1</em>"),n=g.b.join("**").replace(b,"<em>$1</em>")}1e7>w&&(a[i++]=w+"^"+n+"^"+T+"^"+g.u)}if(1>i)this.results.html("<li><span>No results found. Please refine your search.</span></li>");else for(this.results.html(""),a.sort(),f=0,p=a.length;p>f;f++)r=a[f],r=r.split("^"),t=r[1].replace(/\*\*/g," > "),this.results.append("<li><a href='"+r[3]+"'>"+r[2]+"<small>"+t+"</small></a></li>")}else this.results.html("<li><span>Should be "+this.minimum_length+" characters or more.</span></li>");return $(":not(#search-content)").one("click",function(e){return function(){return e.results.fadeOut()}}(this)),this.results.fadeIn()},e.prototype.stemming=function(e){var t,i,o,n,a,r,s,l;for(l=e.split(" "),t=o=0,r=l.length;r>=0?r>o:o>r;t=r>=0?++o:--o)for(s=this.stems,n=0,a=s.length;a>n;n++)i=s[n],l[t]===i.word&&(e=e+" "+i.stem);return e.split(" ")},e}(),$(function(){return new e})}).call(this);