!function(){var e;e=function(){function e(){var e=this;$.ajax({url:"/js/doc_search/doc_search.json",dataType:"json",async:!1,success:function(t){return e.pages=t.pages}}),this.init_events()}return e.prototype.minimum_length=3,e.prototype.stop_words=["and","be","by","do","for","he","how","if","is","it","my","not","of","or","the","to","up","what","when"],e.prototype.stems=[{word:"e-mail",stem:"email"},{word:"javascript",stem:"script"},{word:"javascript",stem:"js"}],e.prototype.results=$("#search-content"),e.prototype.init_events=function(){var e=this;return $(".docs aside form").on("submit",function(){return e.perform_search($(".docs aside form input").val()),!1}),$("#search-content").on("click","a",function(){return expandTreeWithPath($(this).attr("href"))})},e.prototype.perform_search=function(e){var t,i,o,n,a,r,s,l,c,d,h,u,p,f,m,g,b,v,y,w,x,W,k=this;if(e=$.trim(e.toLowerCase()),e.length>=this.minimum_length){for(h=this.stemming(e),i=0,a=[],x=this.pages,p=0,b=x.length;b>p;p++){for(s=x[p],d=1e7,f=0,v=h.length;v>f;f++){for(e=h[f],l=new RegExp(e,"i"),-1!==s.t.search(l)&&(d-=2e3-i),W=s.b,m=0,y=W.length;y>m;m++)o=W[m],-1!==o.search(l)&&(d-=1e3-i);c=new RegExp("("+e+")","gi"),u=s.t.replace(c,"<em>$1</em>"),n=s.b.join("**").replace(c,"<em>$1</em>")}1e7>d&&(a[i++]=d+"^"+n+"^"+u+"^"+s.u)}if(1>i)this.results.html("<li><span>No results found. Please refine your search.</span></li>");else for(this.results.html(""),a.sort(),g=0,w=a.length;w>g;g++)r=a[g],r=r.split("^"),t=r[1].replace(/\*\*/g," > "),this.results.append("<li><a href='"+r[3]+"'>"+r[2]+"<small>"+t+"</small></a></li>")}else this.results.html("<li><span>Should be "+this.minimum_length+" characters or more.</span></li>");return $(":not(#search-content)").one("click",function(){return k.results.fadeOut()}),this.results.fadeIn()},e.prototype.stemming=function(e){var t,i,o,n,a,r,s,l;for(o=e.split(" "),t=n=0,s=o.length;s>=0?s>n:n>s;t=s>=0?++n:--n)for(l=this.stems,a=0,r=l.length;r>a;a++)i=l[a],o[t]===i.word&&(e=e+" "+i.stem);return e.split(" ")},e}(),$(function(){return new e})}.call(this);