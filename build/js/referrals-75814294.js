(function(){$(function(){var e,t,i,n,o,a,r;for($.cookie.json=!0,o={},a=document.location.search.replace("?","").split("&"),e=0,i=a.length;i>e;e++)t=a[e],n=t.split("="),o[n[0]]=n[1];return"ac_affiliate"===o.utm_medium&&null!=o.utm_source&&(r={email:o.utm_source,datetime:new Date},$.cookie("ac_referral",r,{expires:365,path:"/",domain:".applicationcraft.com"})),null!=o.utm_campaign&&($.cookie("campaign",o.utm_campaign,{expires:365,path:"/",domain:".applicationcraft.com"}),"dzone-email-20121912"===o.utm_campaign&&$.cookie("ac_trial_length",30,{expires:365,path:"/",domain:".applicationcraft.com"})),$.cookie("ac_trial_length")?$(".trial-period").text($.cookie("ac_trial_length")):void 0}),$(function(){var e;return e=/^[a-zA-Z0-9._\-]+@[a-zA-Z0-9.\-]+\.[a-zA-Z]{2,4}$/,$("#referral-email").on("blur",function(){return $(this).css({border:"1px solid #CCC"})}),$("#referral-form").on("submit",function(){var t,i,n,o;return i=$(this),t=$(this).find("#referral-email"),e.test(t.val())?(o="http://www.applicationcraft.com/?utm_medium=affiliate&utm_source="+encodeURIComponent(t.val()),n={login:"applicationcraft",apiKey:"R_25cb95f39d27477516ad78346d85a2bf",longUrl:o},$.getJSON("https://api-ssl.bitly.com/v3/shorten",n,function(e){var t,n;return e.data.url&&(o=e.data.url),n="Take a look at ApplicationCraft. It's visual development in the cloud - for everyone.",t="Build amazing mobile and desktop applications with our web based, drag-and-drop IDE.",i.fadeOut(function(){var e,i,a,r,s;for($(this).parent().append('<div id="sharethis-referral">'),$(this).parent().parent().find("h3").text("Now simply click an icon to share..."),$(this).parent().after("<div id='referral-url'>Or copy and paste this URL anywhere you wish: <code>"+o+"</code></div>"),a=["email","facebook","twitter","linkedin"],r=[],e=0,i=a.length;i>e;e++)s=a[e],r.push(stWidget.addEntry({service:s,element:document.getElementById("sharethis-referral"),url:o,title:n,type:"large",summary:t,image:"http://localhost:4567/img/logo.png"}));return r})}),!1):(t.focus(),t.css("border","5px solid #F36050"),!1)})})}).call(this);